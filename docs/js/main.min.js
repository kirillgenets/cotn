var chosenCity=document.querySelector(".cities__chosen-city"),citiesList=$(".cities__list"),menuCatalogTitle=document.querySelector(".menu-catalog__title"),menuCatalogList=document.querySelector(".menu-catalog__list"),menuCatalogListWrapper=document.querySelector(".menu-catalog__list-wrapper"),navToggler=document.querySelector(".nav__toggler"),navList=document.querySelector(".nav__list"),menuToggler=document.querySelector(".menu__list-toggler"),menuList=document.querySelector(".menu__list"),shopToggler=document.querySelector(".shopping-cart__button"),shoppingCart=$(".shopping-cart__wrapper"),indexCatalogTabs=document.querySelector(".index-catalog__tabs-list");indexCatalogTabs.addEventListener("click",function(e){indexCatalogTabs.querySelectorAll(".index-catalog__tab").forEach(function(e){e.classList.remove("index-catalog__tab--selected")}),e.target.parentNode.classList.add("index-catalog__tab--selected")}),initCalc(),shopToggler.addEventListener("click",function(){"none"===shoppingCart.css("display")?shoppingCart.slideDown(200):shoppingCart.hide("fast")}),navToggler.addEventListener("click",function(){navList.classList.toggle("nav__list--shown"),navToggler.classList.toggle("nav__toggler--close")}),menuToggler.addEventListener("click",function(){menuList.classList.toggle("menu__list--shown")});var wrapperWidth=1170;function initCalc(){var e=document.querySelector(".calc").querySelector(".calc__total-value"),t=document.querySelector(".calc__indicator--amount .calc__indicator-value"),n=document.querySelector(".calc__indicator--liter-price .calc__indicator-value"),i=document.querySelector(".calc__indicator--amount .calc__indicator-value"),o=document.getElementsByName("product-type"),c=document.getElementsByName("delivery-type"),s=document.getElementsByName("amount-type"),l=0,u=0;t=1;function a(e,t,n){return Math.round((+e+ +t)*+n)}o.forEach(function(i){i.addEventListener("change",function(o){l=i.value,n.textContent=i.value.replace(".",","),null!=getCheckedRadio("product-type")&&null!=getCheckedRadio("delivery-type")&&null!=getCheckedRadio("amount-type")&&(e.textContent=a(l,u,t))})}),c.forEach(function(n){n.addEventListener("change",function(i){u=n.value,null!=getCheckedRadio("product-type")&&null!=getCheckedRadio("delivery-type")&&null!=getCheckedRadio("amount-type")&&(e.textContent=a(l,u,t))})}),s.forEach(function(n){n.addEventListener("change",function(o){t=n.value,i.textContent=n.value,null!=getCheckedRadio("product-type")&&null!=getCheckedRadio("delivery-type")&&null!=getCheckedRadio("amount-type")&&(e.textContent=a(l,u,t))})})}function onChosenCityClick(){showCitiesList()}function onCitiesListClick(e){setNewCity(e.target.textContent),citiesList.hide("fast")}function onMenuCatalogTitleClick(e){e.preventDefault(),showMenuCatalog()}function showMenuCatalog(){document.querySelector(".menu-catalog__sublist-wrapper");var e=menuCatalogListWrapper.querySelectorAll(".menu-catalog__item--parent");function t(e){document.documentElement.clientWidth>1200?e.classList.remove("hidden"):e.classList.toggle("hidden"),e.style.height=menuCatalogList.clientHeight-30+"px",e.style.width=wrapperWidth-menuCatalogList.clientWidth+"px",e.style.left=menuCatalogList.clientWidth+"px"}menuCatalogListWrapper.classList.toggle("hidden"),document.documentElement.clientWidth>=800&&e.forEach(function(e){!function(e){var n=e.querySelector(".menu-catalog__sublist-wrapper");e.addEventListener("mouseover",function(){t(n)}),e.addEventListener("mouseout",function(){n.classList.add("hidden")}),document.documentElement.clientWidth<=1200&&e.addEventListener("click",function(e){e.preventDefault(),t(n)})}(e)})}function showCitiesList(){"none"===citiesList.css("display")?citiesList.slideDown("fast"):citiesList.hide("fast")}function setNewCity(e){chosenCity.textContent=e}function getCheckedRadio(e){for(var t=document.getElementsByName(e),n=0;n<t.length;n++)if("radio"==t[n].type&&t[n].checked)return t[n]}window.addEventListener("resize",function(){wrapperWidth=document.documentElement.clientWidth<=1200?768:1170}),chosenCity.addEventListener("click",onChosenCityClick),chosenCity.addEventListener("mousedown",function(e){e.preventDefault()}),citiesList.click(onCitiesListClick),menuCatalogTitle.addEventListener("click",onMenuCatalogTitleClick);var commentsList=$(".comments__list"),commentsCounterAmount=$(".comments__counter-amount"),commentsCounterCurrent=$(".comments__counter-current");function onCommentsSliderInitialized(e){document.documentElement.clientWidth>=800&&document.documentElement.clientWidth<=1200?commentsCounterAmount.text(e.item.count):document.documentElement.clientWidth<=520?commentsCounterAmount.text(e.item.count):commentsCounterAmount.text(e.item.count-1)}function onCommentsSliderTranslated(e){commentsCounterCurrent.text(e.item.index+1)}commentsList.owlCarousel({items:2,nav:!0,pagination:!0,onInitialized:onCommentsSliderInitialized,onTranslated:onCommentsSliderTranslated,responsive:{0:{items:1,slideBy:1},520:{items:2,margin:30,slideBy:2},800:{items:1,slideBy:1},1200:{items:2,slideBy:2}}}),$(".comments__prev").click(function(){commentsList.trigger("prev.owl.carousel")}),$(".comments__next").click(function(){commentsList.trigger("next.owl.carousel")});var questionTitles=$(".questions__issue-title");questionTitles.each(function(){$(this).mousedown(function(e){e.preventDefault()}),$(this).click(function(){var e=$(this).next(".questions__issue-answer");"none"===e.css("display")?($(this).addClass("questions__issue-title--opened"),e.slideDown("fast")):($(this).removeClass("questions__issue-title--opened"),e.hide("fast"))})});var newsList=$(".news__list"),newsCounterAmount=$(".news__counter-amount"),newsCounterCurrent=$(".news__counter-current");function onNewsSliderInitialized(e){document.documentElement.clientWidth>=800&&document.documentElement.clientWidth<=1200?newsCounterAmount.text(e.item.count):document.documentElement.clientWidth<=520?newsCounterAmount.text(e.item.count):newsCounterAmount.text(e.item.count-2)}function onNewsSliderTranslated(e){newsCounterCurrent.text(e.item.index+1)}newsList.owlCarousel({items:3,nav:!0,pagination:!0,onInitialized:onNewsSliderInitialized,onTranslated:onNewsSliderTranslated,responsive:{0:{items:1,slideBy:1,margin:30},800:{items:2,slideBy:2},1200:{items:3,slideBy:3}}}),$(".news__prev").click(function(){newsList.trigger("prev.owl.carousel")}),$(".news__next").click(function(){newsList.trigger("next.owl.carousel")});var clientsList=$(".clients__list"),clientsCounterAmount=$(".clients__counter-amount"),clientsCounterCurrent=$(".clients__counter-current");function onClientsSliderInitialized(e){document.documentElement.clientWidth>=800&&document.documentElement.clientWidth<=1200?clientsCounterAmount.text(e.item.count-2):document.documentElement.clientWidth<=800&&document.documentElement.clientWidth>=520?clientsCounterAmount.text(e.item.count-1):document.documentElement.clientWidth<=520?clientsCounterAmount.text(e.item.count):clientsCounterAmount.text(e.item.count-5)}function onClientsSliderTranslated(e){clientsCounterCurrent.text(e.item.index+1)}clientsList.owlCarousel({items:6,nav:!0,pagination:!0,margin:0,onInitialized:onClientsSliderInitialized,onTranslated:onClientsSliderTranslated,responsive:{0:{items:1},520:{items:2,slideBy:2},800:{items:3,slideBy:3},1200:{items:6,slideBy:6}}}),$(".clients__prev").click(function(){clientsList.trigger("prev.owl.carousel")}),$(".clients__next").click(function(){clientsList.trigger("next.owl.carousel")});