var chosenCity=document.querySelector(".cities__chosen-city"),citiesList=$(".cities__list"),menuCatalogTitle=document.querySelector(".menu-catalog__title"),menuCatalogList=document.querySelector(".menu-catalog__list"),menuCatalogListWrapper=document.querySelector(".menu-catalog__list-wrapper"),navToggler=document.querySelector(".nav__toggler"),navList=document.querySelector(".nav__list"),menuToggler=document.querySelector(".menu__list-toggler"),menuList=document.querySelector(".menu__list"),shopToggler=document.querySelector(".shopping-cart__button"),shoppingCart=$(".shopping-cart__wrapper");initCalc(),shopToggler.addEventListener("click",function(){"none"===shoppingCart.css("display")?shoppingCart.slideDown(200):shoppingCart.hide("fast")}),navToggler.addEventListener("click",function(){navList.classList.toggle("nav__list--shown"),navToggler.classList.toggle("nav__toggler--close")}),menuToggler.addEventListener("click",function(){menuList.classList.toggle("menu__list--shown")});var wrapperWidth=1170;function initCalc(){var e=document.querySelector(".calc").querySelector(".calc__total-value"),t=document.querySelector(".calc__indicator--amount .calc__indicator-value"),n=document.querySelector(".calc__indicator--liter-price .calc__indicator-value"),i=document.querySelector(".calc__indicator--amount .calc__indicator-value"),o=document.getElementsByName("product-type"),c=document.getElementsByName("delivery-type"),l=document.getElementsByName("amount-type"),a=0,u=0;t=1;function s(e,t,n){return Math.round((+e+ +t)*+n)}o.forEach(function(i){i.addEventListener("change",function(o){a=i.value,n.textContent=i.value.replace(".",","),null!=getCheckedRadio("product-type")&&null!=getCheckedRadio("delivery-type")&&null!=getCheckedRadio("amount-type")&&(e.textContent=s(a,u,t))})}),c.forEach(function(n){n.addEventListener("change",function(i){u=n.value,null!=getCheckedRadio("product-type")&&null!=getCheckedRadio("delivery-type")&&null!=getCheckedRadio("amount-type")&&(e.textContent=s(a,u,t))})}),l.forEach(function(n){n.addEventListener("change",function(o){t=n.value,i.textContent=n.value,null!=getCheckedRadio("product-type")&&null!=getCheckedRadio("delivery-type")&&null!=getCheckedRadio("amount-type")&&(e.textContent=s(a,u,t))})})}function onChosenCityClick(){showCitiesList()}function onCitiesListClick(e){setNewCity(e.target.textContent),citiesList.hide("fast")}function onMenuCatalogTitleClick(e){e.preventDefault(),showMenuCatalog()}function showMenuCatalog(){document.querySelector(".menu-catalog__sublist-wrapper");var e=menuCatalogListWrapper.querySelectorAll(".menu-catalog__item--parent");function t(e){document.documentElement.clientWidth>1200?e.classList.remove("hidden"):e.classList.toggle("hidden"),e.style.height=menuCatalogList.clientHeight-30+"px",e.style.width=wrapperWidth-menuCatalogList.clientWidth+"px",e.style.left=menuCatalogList.clientWidth+"px"}menuCatalogListWrapper.classList.toggle("hidden"),document.documentElement.clientWidth>=800&&e.forEach(function(e){!function(e){var n=e.querySelector(".menu-catalog__sublist-wrapper");e.addEventListener("mouseover",function(){t(n)}),e.addEventListener("mouseout",function(){n.classList.add("hidden")}),document.documentElement.clientWidth<=1200&&e.addEventListener("click",function(e){e.preventDefault(),t(n)})}(e)})}function showCitiesList(){"none"===citiesList.css("display")?citiesList.slideDown("fast"):citiesList.hide("fast")}function setNewCity(e){chosenCity.textContent=e}function getCheckedRadio(e){for(var t=document.getElementsByName(e),n=0;n<t.length;n++)if("radio"==t[n].type&&t[n].checked)return t[n]}window.addEventListener("resize",function(){wrapperWidth=document.documentElement.clientWidth<=1200?768:1170}),chosenCity.addEventListener("click",onChosenCityClick),chosenCity.addEventListener("mousedown",function(e){e.preventDefault()}),citiesList.click(onCitiesListClick),menuCatalogTitle.addEventListener("click",onMenuCatalogTitleClick);